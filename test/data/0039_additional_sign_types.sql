/**
This now becomes the master dataset for sign types ...
**/

INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (511, 'Warning - RED Background', 'UK_traffic_sign_511.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (8101, 'One Way (to Left) - Arrow and Words', 'UK_traffic_sign_810L.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (5471, 'Supplementary plate - Patrol', 'UK_traffic_sign_547.1.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (62922, 'Physical restriction - Height Restriction', 'UK_traffic_sign_629.2A.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (5301, 'Warning - Height clearance limit', 'UK_traffic_sign_530A.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (962, 'Special Lane - Bus lane at junction ahead', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (572, 'Supplementary plate - Distance', 'UK_traffic_sign_572.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (70, 'Other - Council Housing Estate', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (71, 'Zone - Ultra Low Emissions Zone', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (974, 'Parking - No stopping - Buses excepted', 'UK_traffic_sign_974.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (72, 'Other - H (Water hydrant)', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (967, 'Cycling - Route recommended for pedal cycles', 'UK_traffic_sign_967.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (6183, 'Zone - Pedestrian and Cycle Zone', 'UK_traffic_sign_618.2.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (61842, 'Zone - Pedestrian and Cycle Zone end', 'UK_traffic_sign_618.4A.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (61841, 'Zone - Pedestrian Zone end', 'UK_traffic_sign_618.4A.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (57211, 'Supplementary Plate - Times', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (622111, 'Physical restriction - London HGV network (> 16.5t)', 'UK_traffic_sign_622.1A.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (512, 'Warning - Bend ahead to right', 'UK_traffic_sign_512.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (5121, 'Warning - Bend ahead to left', 'UK_traffic_sign_512L.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (6222, 'Physical restriction - End of weight restriction', 'UK_traffic_sign_622.2.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (9671, 'Cycling - Route sign', 'National_Cycle_Route_sign_6.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (5151, 'Other - Chevron left', 'UK_traffic_sign_515.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (5152, 'Other - Chevron right', 'UK_traffic_sign_515R.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (8111, 'Supplementary plate - Priority over oncoming vehicles', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (73, 'Other - Neighbourhood Watch', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (74, 'Access Restriction - Unsuitable for long vehicles', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (510, 'Warning - Roundabout', 'UK_traffic_sign_510.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (2304, 'Other - Tourist direction (brown)', 'UK_traffic_sign_2304.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (75, 'Other - Tourist location (brown)', 'Youth_hostel_road_sign.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (23141, 'Other - Motorist direction (white)', 'UK_traffic_sign_2314.1.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (611, 'Other moves - Proceed either side', 'UK_traffic_sign_611.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (5472, 'Supplementary plate - Playground', 'UK_traffic_sign_547.2.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (78, 'Supplementary Plate - Reduce Speed Now', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (80, 'Parking - Market/Trading Bay', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (79, 'Other - Match/Event Day Information', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (81, 'Other - Alcohol control', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (82, 'Supplementary Plate - Islington', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (83, 'Other - Camera enforcement details', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (84, 'Other - Waste/recycling information', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (86, 'Other - WW1 information', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (87, 'Other - Switch off engine', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (88, 'Cycling - Quietway signage', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (90, 'Other - Clean up after dogs', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (517, 'Warning - Road narrows on right ahead', 'UK_traffic_sign_517.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (5171, 'Warning - Road narrows on left ahead', 'UK_traffic_sign_517L.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (516, 'Warning - Road narrows on both sides ahead', 'UK_traffic_sign_516.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (91, 'Cycling - Cyclists Dismount', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (500, 'Warning (no details)', 'UK_traffic_sign_500.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (520, 'Warning - Dual carriageway ends ahead', 'UK_traffic_sign_520.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (5201, 'Supplementary plate - Dual Carriageway', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (93, 'Other - Danger - Overhead live wires', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (94, 'Supplementary plate - Only', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (95, 'Other - FPN for dropping litter', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (8161, 'Other - No Through Road on side street', 'UK_traffic_sign_817V.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (96, 'Special Lane - Bus lane hours of operation', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (2702, 'Other - Diverted Traffic', 'UK_traffic_sign_2702L.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (60631, 'Cycling - Compulsory Turn - Proceed Straight', 'UK_traffic_sign_606F.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (60611, 'Cycling - Compulsory Turn - Proceed Right', 'UK_traffic_sign_606B.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (60621, 'Cycling - Compulsory Turn - Proceed Left', 'UK_traffic_sign_606.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (76, 'Other - Pedestrian direction (blue background)', 'UK_traffic_sign_2605V.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (85, 'Other - Pedestrian direction (black background)', 'UK_traffic_sign_2607.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (89, 'Other - Pedestrian direction (white background)', 'UK_traffic_sign_2322R.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (92, 'Other - Pedestrian direction (green background)', 'UK_traffic_sign_2607V.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (97, 'Other - Private Parking area', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (95811, 'Special Lane - With flow cycle lane ahead', 'UK_traffic_sign_958.1.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (98, 'Parking - Diplomatic Cars Only', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (99, 'Supplementary plate - Except permit holders', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (6293, 'Physical restriction - Length Restriction', 'UK_traffic_sign_629.1.svg');
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (6295, 'Physical restriction - Length Restriction (metric)', 'UK_traffic_sign_629.1M.svg');

INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (2507, 'Parking - Direction to Car Parking', 'UK_traffic_sign_2507.svg');

INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (100, 'Supplementary plate - Except taxis and permit holders', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (101, 'Supplementary plate - Except local buses, taxis and cycles', NULL);

/**
Change Description on sign type for red routes to be "Parking - Red Route/Greenway - "
**/

UPDATE "toms_lookups"."SignTypes"
SET "Description" = 'Parking - Red Route/Greenway No stopping'
WHERE "Code" = 38;

UPDATE "toms_lookups"."SignTypes"
SET "Description" = 'Parking - Red Route/Greenway Limited Waiting Bay'
WHERE "Code" = 43;

DO
$do$
DECLARE
   row RECORD;
   simple_description text;
BEGIN

    FOR row IN SELECT "Code", "Description"
               FROM toms_lookups."SignTypes"
               WHERE "Description" LIKE 'Parking - Red Route/Greenway%'
    LOOP

        SELECT REPLACE(row."Description", 'Parking - Red Route/Greenway ', 'Parking - Red Route/Greenway - ')
        INTO simple_description;

        RAISE NOTICE '***** row.Code(%); original (%); simple_description (%)', row."Code", row."Description", simple_description;

        -- Get description without ending

        UPDATE toms_lookups."SignTypes"
        SET "Description" = REPLACE(row."Description", 'Parking - Red Route/Greenway ', 'Parking - Red Route/Greenway - ')
        WHERE "Code" = row."Code";

    END LOOP;

END
$do$;

-- Red routes
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (6424, 'Parking - Red Route/Greenway - No Stopping - Clearway', 'UK_traffic_sign_CW701.svg');

UPDATE "toms_lookups"."SignTypes"
SET "Icon" = 'UK_traffic_sign_SR504'
WHERE "Code" = 38;

INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (102, 'Parking - Red Route/Greenway - Electric Vehicle Charging Bay', NULL);
INSERT INTO "toms_lookups"."SignTypes" ("Code", "Description", "Icon") VALUES (5311, 'Warning - Available headroom at arch bridge', 'UK_traffic_sign_531.1M.svg');
