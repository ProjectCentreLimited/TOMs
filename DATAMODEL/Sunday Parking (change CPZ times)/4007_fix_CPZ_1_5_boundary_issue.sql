/***
 *  As part of the changes for Sunday Parking, there is a small change to the geometry of the Zones 1 and 5 along Belford Road.
 *  There is an issue with the boundary whereby the proposed changes for Zone 5 have been made to the current version. To remedy this, we need to:
 *  a. Add in the correct version of Zone 5 (and make it current)
 *  b. Within the relevant proposal, close the correct and open the amended version.
 ***/

-- Insert correct version of CPZ 5
--INSERT INTO "toms"."ControlledParkingZones" VALUES ('5', '0103000020346C00000100000052020000126CE77B6DCE13416369BCF4E89724417D285C8F6DCE134159E826F1E89724417D285C8F6DCE134159E826F1E8972441757C3FB594CE13418B9CEF67E1972441757C3FB594CE13418B9CEF67E19724410CEB51B891CE1341ABA04536F29724410CEB51B891CE1341ABA04536F2972441AADAF97E91CE13410659647BF3972441827E6A3C41D01341F2AA1C5A90972441827E6A3C41D01341F2AA1C5A909724417E285C8F71D01341A41FB0B27797244188FFFF7F90D013414C3ADFCF5B9724413647E1FAC3D013414C6566A623972441D88C97EED2D013417DC320B009972441D88C97EED2D013417DC320B009972441A55964BBDAD0134192F2FDD4D09624418D550EADDAD013412909D763D09624418D550EADDAD013412909D763D0962441CA5FE550D4D01341889AC4E09D962441CA5FE550D4D01341889AC4E09D962441A884EBD1D3D013416769BCF49996244186D47869D3D013419DF2FD949796244186D47869D3D013419DF2FD94979624419CAD47E1C9D013411D884160609624419CAD47E1C9D013411D88416060962441C08841E0C9D013411707AC5C60962441B907AC1CC2D0134160E826F14096244131C64BB7BBD01341AE1FB0323096244131C64BB7BBD01341AE1FB03230962441D88C97EEAED013416A6BE7BB0E962441D88C97EEAED013416A6BE7BB0E962441EE6566665DD01341B3CBCC4CC4952441EE6566665DD01341B3CBCC4CC4952441697A14AE00D1134144B9490C7F952441697A14AE00D1134144B9490C7F95244186D478691DD113413638B4C81795244188FFFFFF20D11341B4CBCCCCFD942441EE65666629D11341506566E6DE94244189FFFFFF31D1134113323333CC94244156CCCCCC44D1134179989919AE942441EE6566E64DD11341FA02560EA3942441EE6566E64DD11341FA02560EA3942441684F8D174DD113416569BC349894244162CEF75341D113412C8A6C678E94244162CEF75341D113412C8A6C678E942441EE6566663BD11341B0CBCC4C8C94244130C64B3733D113411F09D7A38A94244130C64B3733D113411F09D7A38A94244115976E12F8D01341911B5AA47E94244115976E12F8D01341911B5AA47E94244186D47869DED0134115B19D6F7994244186D47869DED0134115B19D6F799424415E78E9A698D01341A01D85AB679424415E78E9A698D01341A01D85AB679424413A9DEFA740D01341295FE5D04C9424418053E32520D0134191C776BE3E9424418053E32520D0134191C776BE3E942441EE6566E604D013411A3233F33294244184A9F152D5CF13412CB5F37D1A94244184A9F152D5CF13412CB5F37D1A942441DBE2A51B9DCF134109DAF93EFA932441DBE2A51B9DCF134109DAF93EFA932441D20B022B82CF13415ABD9F1AE1932441D20B022B82CF13415ABD9F1AE19324410AC0CA2148CF1341105DBAC9E19324410AC0CA2148CF1341105DBAC9E1932441BA3233B322CF13410D323373D0932441A003560EE1CE13415BBD9FDAB3932441A003560EE1CE13415BBD9FDAB393244114976E12DDCE1341613E351EB2932441DBE2A51B8ACE1341619218448E932441DBE2A51B8ACE1341619218448E932441D10B02AB7BCE13414A90EDFC82932441D10B02AB7BCE13414A90EDFC82932441E28EC27566CE134181428B6C72932441E28EC27566CE134181428B6C729324411E438BEC62CE134111DC24865D9324411E438BEC62CE134111DC24865D93244118ED7CBF61CE134109058195569324410E16D9CE5FCE134106DAF9BE459324410E16D9CE5FCE134106DAF9BE45932441642406815FCE134186192F1D439324412D9BC4A05CCE1341624060E52C932441D10B022B5ACE13417C6D1243159324416EFBA9F155CE1341EFAC47E1E6922441B4B19D6F54CE1341896F3D8ADE9224416424068152CE13413538B488D59224416424068152CE13413538B488D592244187FFFF7F52CE1341A8C9A185D592244187FFFF7F52CE1341A8C9A185D59224413772681150CE134113323333CA9224413772681150CE134113323333CA92244114976E9250CE13416BC1F5E8B592244183A9F15250CE1341A0F4289CAC9224413547E17A4FCE13418DF0D24D9E9224415076BE1F4DCE1341CDD14DA2919224415076BE1F4DCE1341CDD14DA29192244187FFFF7F38CE1341AF4C62508292244187FFFF7F38CE1341AF4C62508292244152A145362FCE13414ABB74937D92244152A145362FCE13414ABB74937D9224412C9BC4A01BCE134107058195739224411C438B6C0BCE1341E4FEFF3F6D9224411C438B6C0BCE1341E4FEFF3F6D922441126CE7FBEFCD1341A173935860922441B05B8F42E9CD1341118841605C922441B05B8F42E9CD1341118841605C9224411F6E1203CECD1341A44A37494C922441FEBD9F1AB5CD134123E07A143D9224415822DBF9A5CD1341D2A6C64B349224415822DBF9A5CD1341D2A6C64B34922441191804D6A2CD1341460F5879329224415FCEF7D39DCD134187C54B772D9224415FCEF7D39DCD134187C54B772D922441A684EBD198CD1341CA7B3F7528922441EA3ADFCF93CD1341901B5AE423922441EA3ADFCF93CD1341901B5AE423922441DBE2A51B8CCD1341F02BB25D1C922441116CE77B7FCD1341C82531880E922441389DEF2778CD1341989CEF6702922441389DEF2778CD1341989CEF6702922441CEE07A9472CD1341358C972EF9912441CEE07A9472CD1341358C972EF9912441EC65666672CD134149E4D0E2F8912441EC65666672CD134149E4D0E2F8912441DC0D2D3271CD13412109D7E3F6912441A12EDD246FCD13415D13AE87F3912441A12EDD246FCD13415D13AE87F39124415822DB796CCD1341F92DDD24EF9124415822DB796CCD1341F92DDD24EF9124418EAB1CDA65CD1341BA230641E4912441043F355E5FCD13410BDC2486D5912441043F355E5FCD13410BDC2486D5912441882A87165BCD13410F07AC5CC7912441882A87165BCD13410F07AC5CC79124414AF5285C5ACD134176428BECBC912441594D62105ACD13410A5B8FC2B7912441594D62105ACD13410A5B8FC2B791244148CAA1C559CD13411707AC9CB29124418A550E2D54CD1341C3CF225BA59124418A550E2D54CD1341C3CF225BA5912441E0633BDF4ECD1341614060E59A9124417251B81E49CD134181989959909124417251B81E49CD134181989959909124417026310846CD134154E826B18A912441EA3ADF4F42CD134101AF72E884912441EA3ADF4F42CD134101AF72E8849124419882C04A42CD13411A8841E0849124419882C04A42CD13411A8841E084912441261A2FDD3ECD13417C6F3D8A7F9124412099999937CD13417F192F5D76912441FB9218842BCD13414E6791ED67912441F511834019CD1341AB4C625058912441F511834019CD1341AB4C625058912441E6E4D0A209CD13419D73931851912441E4B9498CF8CC1341E32987164C91244117ED7CBFE2CC13410284EB514A912441677A142ECBCC134169EC7C7F4B912441A12EDD24B7CC13413138B4084F912441632406818FCC13417A98999945912441632406818FCC13417A98999945912441AD3008AC8ECC1341B777E96645912441AD3008AC8ECC1341B777E966459124413447E1FA69CC1341931D85AB3C9124413447E1FA69CC1341931D85AB3C912441A359643B41CC1341CCFCD4F832912441A359643B41CC1341CCFCD4F83291244176A7C64B2ACC1341716D12832D91244176A7C64B2ACC1341716D12832D9124418C80954306CC134180C320F0249124418C80954306CC134180C320F0249124414F76BE1FF1CB1341FFD9F93E27912441AA058195D8CB1341CD50B89E2B9124412B9BC420AECB1341E0FEFFFF2D91244108C0CA2194CB13411CB3C8363491244108C0CA2194CB13411CB3C8363491244124EFA74667CB1341C4FAA9B12F91244124EFA74667CB1341C4FAA9B12F912441DAE2A51B4ECB134104AF72282D91244146CAA14544CB13411DB5F37D27912441F63C0A5746CB13418C1B5A2425912441F63C0A5746CB13418C1B5A24259124415CA3703D5CCB1341C22306410C9124415CA3703D5CCB1341C22306410C9124410AEB51B870CB134198739398FF9024410AEB51B870CB134198739398FF9024416CFBA9F147CB13418F9CEFE7E49024416CFBA9F147CB13418F9CEFE7E4902441BA5DBAC994CA13416215D9CEFF902441D58C97EEFCC91341EEAC47610B912441D58C97EEFCC91341EEAC47610B91244190012B07C2C91341931D85EB0C912441B8323333A2C91341198841600B912441C3345E3A6DC91341927393D800912441EA6566E66EC913416C989999EC90244182D4786978C91341D57D6A7CE890244184FFFFFF69C91341133233B3DF90244184FFFFFF69C91341133233B3DF90244120C420B052C91341F9048195D390244120C420B052C91341F9048195D3902441B7323333E1C813416C98999998902441B7323333E1C813416C98999998902441301C5AE49AC813412F0D2D72BC902441F31183C08CC813418B716891AE902441F0E6FBA97DC81341C6A6C64BA590244150CCCC4C64C81341D4FCD4789090244183FFFFFF89C813410D3233B37B90244183FFFFFF89C813410D3233B37B902441B73233B351C81341A2CBCCCC67902441AB30082C28C81341897168D150902441852A8716A4C71341E856397421902441C78A6C6789C71341BE2531C8189024412BC64BB76AC71341310D2D721390244183FFFFFFDAC61341073233B30E90244150CCCCCCB3C613410D3233330F90244150CCCCCCB3C613410D3233330F90244186550E2D69C61341AE77E92610902441CD0B02AB1DC61341DBD5A3F01190244177FDD4781DC61341B72306811290244177FDD4781DC61341B723068112902441C2345E3A1CC613412DB9490C1690244165A59B4444C6134163C1F5681690244114ED7CBF43C6134192480CC2249024418AAB1C5AA3C51341D67F9543159024414820B0F2A3C51341A2F653631390244182FFFFFF99C513417598999912902441614F8D9793C513419EA04576119024414ECCCCCCBDC41341386566660A9024414ECCCCCCBDC41341386566660A902441B432333350C413417298991906902441B432333350C413417298991906902441B4323333BEC31341CEFEFFFFF58F2441B4323333BEC31341CEFEFFFFF58F244181FFFFFFC3C3134169989999E08F244181FFFFFFC3C3134169989999E08F244182FFFFFFF3C3134133656666CF8F2441B432333372C41341396566668E8F2441B532333330C51341093233B32A8F244182FFFFFF3BC513416C989999228F24413E7493181DC513416E9899591E8F2441AB5B8FC2E2C413416FEEA7C61B8F244138F3FD5442C41341A21FB0B2148F2441A70581951CC41341AA4C62D0F58E2441A70581951CC41341AA4C62D0F58E24411C999999F3C3134168989919D18E24411B999999C7C313419ACBCCCCB48E24411B999999C7C313419ACBCCCCB48E244117438B6C65C3134173EEA7467D8E2441211A2F5D20C31341416791AD5F8E244171A7C64BD5C213411E8A6CA7448E244171A7C64BD5C213411E8A6CA7448E244170A7C64B32C21341929E1AAF158E244170A7C64B32C21341929E1AAF158E244143F528DC85C11341B7FAA971FA8D244143F528DC85C11341B7FAA971FA8D244157A3703D6DC113410307AC5CF68D244157A3703D6DC113410307AC5CF68D24418E2CB29D63C1134133E4D0E2F38D24418E2CB29D63C1134133E4D0E2F38D244134C8763E5EC113416CC320B0F18D244134C8763E5EC113416CC320B0F18D2441D2B71E855BC1134168C32030F08D2441D2B71E855BC1134168C32030F08D2441A1AF726851C113416A192F5DEA8D2441A1AF726851C113416A192F5DEA8D2441B788416051C11341F4851659EA8D2441B788416051C11341F4851659EA8D2441201A2F5D51C1134121E2A55BEA8D2441201A2F5D51C1134121E2A55BEA8D24416C51B81E32C11341CBFEFFBF008E24416C51B81E32C11341CBFEFFBF008E24411218045667BF1341D92BB25D2E8F24411218045667BF1341D92BB25D2E8F244122703D8A77BE1341A04C6290538F244122703D8A77BE1341A04C6290538F2441F267916DBDBE1341DC563934708F2441F267916DBDBE1341DC563934708F244110ED7CBFD5BE134130656626798F244110ED7CBFD5BE134130656626798F244102C0CA21E4BE1341D6D5A3707E8F244102C0CA21E4BE1341D6D5A3707E8F2441EBE6FBA915BF134157C1F5A8908F2441EBE6FBA915BF134157C1F5A8908F2441176E120378BF1341F00481D5B48F2441176E120378BF1341F00481D5B48F24414420B0F219C01341C952E365F08F24414420B0F219C01341C952E365F08F244170A7C64B3EC0134165192FDDD78F244170A7C64B3EC0134165192FDDD78F244188AB1CDA48C01341DC002B07DC8F244188AB1CDA48C01341DC002B07DC8F2441E790ED7C49C01341FBDB2446DC8F2441E790ED7C49C01341FBDB2446DC8F2441AEDC248665C01341E1AC4721E78F24417A7E6A3C79C0134116611098D48F24411A99999980C0134164989999CD8F24411999999984C013416A989999CA8F2441E665666686C0134133656666C98F24414CCCCCCC88C01341CBFEFFFFC78F24414CCCCCCC88C01341CBFEFFFFC78F244156A3703D8CC013410B09D723C68F244156A3703D8CC013410B09D723C68F24411A999999E8C0134107323333948F24414DCCCCCC2BC1134163989919858F2441B788416077C11341A3F653A37E8F2441B788416077C11341A3F653A37E8F24411A999999AEC1134168989999888F24411A999999AEC1134168989999888F2441B43233336FC21341D7FEFF7FC38F2441B43233336FC21341D7FEFF7FC38F2441A084EB5195C21341210D2DB2CF8F2441A084EB5195C21341210D2DB2CF8F2441E765666699C21341DAFEFFFFD08F2441E765666699C21341DAFEFFFFD08F244125703D8A9EC21341423C0A17D98F244125703D8A9EC21341423C0A17D98F2441F7BD9F1A9FC213410E345EFAD98F2441F7BD9F1A9FC213410E345EFAD98F244180FFFFFFAEC21341C8FEFFFFF28F244180FFFFFFAEC21341C8FEFFFFF28F2441E0E4D022A2C21341E52DDDE433902441E0E4D022A2C21341E52DDDE43390244103C0CA2198C21341D5AA1C5A6690244103C0CA2198C21341D5AA1C5A669024411318045690C213416AC320B08D9024411318045690C213416AC320B08D90244195AD47E130C31341318EC2358691244195AD47E130C31341318EC2358691244107EB51B8C6C4134171989999DD912441A3AF72E8C4C413414F13AE47DF912441A3AF72E8C4C413414F13AE47DF912441E86566661DC413416C9899997A92244196AD47E108C4134144656626B1922441B207AC9CECC313415369BC74BC922441B207AC9CECC313415369BC74BC922441D18C97EEB0C31341709AC4E0B1922441F8BD9F1A60C31341C3D14DE2A2922441F8BD9F1A60C31341C3D14DE2A292244186550EAD51C313414CEA5138B192244186550EAD51C313414CEA5138B1922441FAE8263127C31341AD79146EDB922441FAE8263127C31341AD79146EDB922441FAE826B1F2C21341AB4E8D970F932441F23C0A5714C31341A377E92630932441F23C0A5714C31341A377E9263093244177285C8F31C31341D7540E6D4C93244177285C8F31C31341D7540E6D4C932441E990EDFC35C31341288EC2B550932441E990EDFC35C31341288EC2B550932441BAB3C8F649C31341413C0A5764932441BAB3C8F649C31341413C0A576493244117438BEC67C3134169C320B08193244125703D0A4AC3134159966E929D93244125703D0A4AC3134159966E929D93244129C64B3749C3134191C9A185B1932441EA90EDFC6CC31341E0002B87D7932441F69218849AC313413BBB7413D9932441F69218849AC313413BBB7413D993244178285C8FEBC3134185F2FDD4DB93244178285C8FEBC3134185F2FDD4DB932441A2AF72E83FC413417444B6B3DE932441A2AF72E83FC413417444B6B3DE93244166D022DB5BC41341AB77E9A6DF932441FD13AE47A7C41341A4CBCC0CC3932441FD13AE47A7C41341A4CBCC0CC3932441E63ADF4FA7C41341075DBA09C3932441E63ADF4FA7C41341075DBA09C393244176FDD4F8B2C41341EB2BB29DBE93244176FDD4F8B2C41341EB2BB29DBE932441C1345E3ABEC4134100861659BA932441F9BD9F9AC9C413414567916DBB932441F9BD9F9AC9C413414567916DBB9324410A416065FAC41341A74C6210C093244196AD4761F5C41341453C0A17CA93244196AD4761F5C41341453C0A17CA932441FD13AEC7F0C41341C1253148D3932441FD13AEC7F0C41341C1253148D39324415E240681E0C41341EF0256CEF39324415E240681E0C41341EF0256CEF39324417EA9F1D22EC51341E22BB25DF69324417EA9F1D22EC51341E22BB25DF69324413E7493185FC51341BEFAA9F1F79324413E7493185FC51341BEFAA9F1F7932441902CB29DE8C5134152E82671FC932441D28C976EF7C5134120368901FD932441D28C976EF7C5134120368901FD93244138F3FDD469C613410707AC5C01942441161804D6F9C613415B15D90E0794244197AD47E156C713415BE826710A94244197AD47E156C713415BE826710A9424411E9999995EC71341C4253108DC9324411E9999995EC71341C4253108DC9324414EA145B65FC7134196739358D59324411FC4203098C713415E6BE7BBD7932441419F1A2F97C7134149BD9F5ADC932441419F1A2F97C7134149BD9F5ADC93244107C0CAA18CC713418D9CEFE70C942441AD5B8F42B4C713411DE07A940E942441AD5B8F42B4C713411DE07A940E942441C109D7A3E6C71341378EC2B510942441C109D7A3E6C71341378EC2B51094244115ED7CBF2BC81341EFAC47A11394244115ED7CBF2BC81341EFAC47A1139424412A9BC42063C8134164EA51F81594244176D24DE2A6C81341343ADF4F2E9424417051B89ECFC81341B9A49BC4339424417051B89ECFC81341B9A49BC433942441369DEFA7DEC81341F083EB1137942441369DEFA7DEC81341F083EB11379424417C53E3A5F3C81341EF5639B41C9424412A9BC4A024C91341EFD7CE7737942441F53C0A571AC91341ACCBCC4C44942441F53C0A571AC91341ACCBCC4C4494244138C8763E01C913419B73939863942441B95DBA4908C91341553E351E67942441B95DBA4908C91341553E351E67942441046ABCF460C913415E69BC7493942441046ABCF460C913415E69BC749394244184FFFFFF98C91341EF58647BAF94244184FFFFFF98C91341EF58647BAF94244152CCCC4CD0C913413AE4D022CB94244152CCCC4CD0C913413AE4D022CB9424414C4B3709DAC91341B8230601D09424414C4B3709DAC91341B8230601D0942441F31183C000CA1341E62BB25DE3942441F31183C000CA1341E62BB25DE394244185FFFF7F3CCA13411DB5F33D0195244185FFFF7F3CCA13411DB5F33D019524416CFBA97167CA134187C54BB716952441F867916D71CA1341205FE510339524415622DB797CCA13412E0D2D72529524415622DB797CCA13412E0D2D7252952441BEB3C8769ECA1341C4CF22DB53952441BEB3C8769ECA1341C4CF22DB53952441622406819ECA13412FE2A5DB53952441357268919ECA1341A7F428DC53952441357268919ECA1341A7F428DC539524415622DBF9D5CA13416FC1F528569524415622DBF9D5CA13416FC1F5285695244152CCCCCCD7CA134118DE4F4D5895244152CCCCCCD7CA134118DE4F4D589524418FD6A3F0EECA1341D97D6A7C73952441F86791EDF1CA13410005815576952441F86791EDF1CA13410005815576952441B4DC24060CCB13411B345E3A8F952441B4DC24060CCB13411B345E3A8F952441181804569CCB1341E2A8F152B4952441181804569CCB1341E2A8F152B4952441DAE2A59B35CC1341DEFCD4B8DB9524416DFBA9F146CC134168C1F5A8DF9524416DFBA9F146CC134168C1F5A8DF9524417251B81E42CC134185C54BF7E4952441AD3008AC98CC1341FB83EB11FA952441AD3008AC98CC1341FB83EB11FA9524412845B6F398CC1341AAF65323FA9524412845B6F398CC1341AAF65323FA9524410D16D9CE9BCC1341FC0481D5FA9524410D16D9CE9BCC1341FC0481D5FA95244164240681A0CC1341F481C0CAF395244164240681A0CC1341F481C0CAF395244109C0CA21A6CC1341C7A49B04F5952441449F1AAFA9CC1341F481C0CAF5952441D00B02ABABCC134152118340F6952441261A2FDDB2CC1341F381C0CAF79524414F76BE9FB6CC1341A8A045B6F89524414D4B3709BDCC13415F13AE47FA952441A9DAF9FEBDCC13418C46E17AFA9524413447E17AC3CC13415B3E359EFB95244119180456C3CC134165966ED2FB95244119180456C3CC134165966ED2FB952441D8B71E05B3CC1341B6A270BD13962441D8B71E05B3CC1341B6A270BD13962441DC0D2D32F0CC1341CC52E3251E9624416BD022DBFDCC1341519218440B9624416BD022DBFDCC1341519218440B9624414B20B07200CD1341F281C00A0C96244186FFFFFF01CD13419A480C820C96244192012B8703CD13418A44B6F30C962441F0BB749305CD1341CC2531880D9624418A550E2D0CCD1341D57D6A3C0F9624418A550E2D0CCD1341D57D6A3C0F9624415FCEF75309CD1341BBCDF7D3129624415FCEF75309CD1341BBCDF7D312962441747C3F3520CD134199F4289C29962441747C3F3520CD134199F4289C29962441321C5AE44CCD134179989919569624414C20B072A7CD1341589443CB6B9624414C20B072A7CD1341589443CB6B962441942CB29DCFCD13412E0B026B75962441942CB29DCFCD13412E0B026B75962441FA67916D10CE1341C6FAA9F184962441FA67916D10CE1341C6FAA9F184962441747C3F358DCE13418CC54B778D962441747C3F358DCE13418CC54B778D962441A003560EA4CE13410930082C89962441A003560EA4CE13410930082C8996244116C2F5A8ADCE134128E07A548096244154CCCCCCADCE134113323333809624410CEB5138AFCE13410D84EB91809624410CEB5138AFCE13410D84EB9180962441C409D7A3B0CE13417FC320F080962441C409D7A3B0CE13417FC320F0809624410214AE47B3CE1341148841A0819624410214AE47B3CE1341148841A0819624419982C04ADBCE13413938B4088C96244179D24DE2ECCE1341A3F4289C909624419AAD4761F4CE13411A5DBA89929624419AAD4761F4CE13411A5DBA89929624410E16D9CEF2CE1341B275BE5F949624410E16D9CEF2CE1341B275BE5F9496244154CCCCCCF0CE1341F8AC4761959624418B550E2DEECE1341FCAC47A196962441A45964BBEBCE134138E2A59B97962441A45964BBEBCE134138E2A59B979624410CEB51B8E9CE134174C1F568989624412B703D8AE7CE13410184EB11999624412B703D8AE7CE13410184EB1199962441BE8841E0E5CE1341E1A8F192999624412C9BC420E2CE1341103233F39A9624418A2A8796E1CE1341DD52E3259B9624418A2A8796E1CE1341DD52E3259B96244121999999DFCE1341819AC4E09B962441E38EC2F5DCCE1341EE7F95C39C962441E38EC2F5DCCE1341EE7F95C39C9624415C78E926DDCE13419A9E1AEF9C9624415C78E926DDCE13419A9E1AEF9C96244148CAA145DDCE13418F6F3D0A9D96244148CAA145DDCE13418F6F3D0A9D9624411A180456E3CE1341949CEF67A296244185D47869E6CE1341B321DB39A596244185D47869E6CE1341B321DB39A5962441952CB21DEBCE134182C32070A99624413547E17AF6CE13414F3C0A57A7962441CC8A6C67F7CE13419B9E1A6FA8962441CC8A6C67F7CE13419B9E1A6FA89624419ED8CEF700CF1341E0FEFFBFB39624418B550EAD04CF13414890EDFCB29624418B550EAD04CF13414890EDFCB29624416EFBA9F111CF1341F27F9543B09624416EFBA9F111CF1341F27F9543B096244187FFFFFF1ACF1341969CEF67AE96244187FFFFFF1ACF1341969CEF67AE9624417451B81E27CF1341280B02EBAB9624417451B81E27CF1341280B02EBAB96244192D6A3702DCF134175EEA786B196244192D6A3702DCF134175EEA786B1962441E38EC2F52ECF1341D652E325B2962441E38EC2F52ECF1341D652E325B296244163F97EEA36CF13412A8A6C67B596244163F97EEA36CF13412A8A6C67B5962441D10B022B2CCF1341175DBA49BB9624412945B67325CF134198480C42BE962441C0B3C8F621CF134182EEA7C6BF962441A45964BB1ECF13411E345E3AC1962441767C3FB519CF1341D5FCD478C3962441C6345E3A07CF13410484EBD1CB962441C6345E3A07CF13410484EBD1CB96244187FFFF7FFACE1341B8F87EEACF96244187FFFF7FFACE1341B8F87EEACF96244148CAA1C5EDCE13410A5B8F02D496244148CAA1C5EDCE13410A5B8F02D496244144749318E2CE1341539218C4D796244144749318E2CE1341539218C4D7962441C0B3C8F6BCCE1341B3A045B6E3962441A8AF72E8A3CE1341BA4E8D17DC962441A45964BB85CE134166406025EF962441A45964BB85CE134166406025EF962441C2DE4F8D67CE13419D1FB03202972441C2DE4F8D67CE13419D1FB032029724415EA3703D67CE1341D852E365029724415EA3703D67CE1341D852E36502972441EF90EDFC4ACE1341EB7F958314972441892A879629CE13416069BCB4299724411A1804D6D3CD1341DF540EAD5F9724411A1804D6D3CD1341DF540EAD5F972441219999993ECE1341426566E676972441219999993ECE1341426566E6769724416AA59BC42DCE1341CB7B3FF58A9724416AA59BC42DCE1341CB7B3FF58A97244148CAA1C53BCE1341E87F95038E97244148CAA1C53BCE1341E87F95038E97244114976E924BCE1341AAA045769197244114976E924BCE1341AAA0457691972441C2DE4F8D50CE1341AFCBCC8C92972441C2DE4F8D50CE1341AFCBCC8C929724412945B6736CCE1341AEF653A3989724412945B6736CCE1341AEF653A3989724412199999981CE1341476566E69D972441D78C97EE7DCE1341143233B3AB972441D78C97EE7DCE1341143233B3AB9724415C78E9A673CE134176989959D29724415C78E9A673CE134176989959D29724411F6E12836DCE13410D8616D9E8972441126CE77B6DCE13416369BCF4E8972441', 97, '5', NULL, NULL, '{2462d039-7bee-41d2-8fd7-17bb98e6d8cf}', 'C_0000081', 20, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2022-02-16 10:55:31.908988', 'postgres', NULL, NULL, NULL, NULL, NULL, NULL, '2022-02-16 10:55:31.908988', 'postgres', '0104000020346C00000D00000001010000008E510C0EE7C11341DAAA1C7A6E8E2441010100000092288BFC35C31341323ADF6FDE8F24410101000000CB99628F0DC41341225553B54B9324410101000000276666E675C413415113AEE7B19124410101000000C84F2486B0C6134156D7A8EE7990244101010000000000000010C81341CA8EC275EC9124410101000000A8FBA9F113C813417644B613C59324410101000000D9D8CE37CECA1341549218E4249524410101000000A47A144E49CC1341E27F95E3DC9124410101000000964D62F018CD1341B477E926C293244101010000007667AED215CE13414A3ADF4FBC952441010100000066F5819F54CF1341D6D14DC2429724410101000000095C8FE2A1BE1341C4E5F2215F8F2441', NULL, true);

-- Deal with CPZ open/close dates
UPDATE toms."ControlledParkingZones"
SET "OpenDate" = '2018-10-15', "CloseDate" = '2020-11-09'
WHERE "GeometryID" = 'C_0000081';

UPDATE toms."ControlledParkingZones"
SET "OpenDate" = '2020-11-09'
WHERE "GeometryID" = '8';

-- Add to "RestrictionsInProposals"
-- Open
INSERT INTO toms."RestrictionsInProposals"(
        "ProposalID", "RestrictionTableID", "ActionOnProposalAcceptance", "RestrictionID")
VALUES (71, 6, 1, '8');

-- Close
INSERT INTO toms."RestrictionsInProposals"(
        "ProposalID", "RestrictionTableID", "ActionOnProposalAcceptance", "RestrictionID")
 VALUES (71, 6, 2, '{2462d039-7bee-41d2-8fd7-17bb98e6d8cf}');

-- Deal with PTA

INSERT INTO toms."ParkingTariffAreas"("RestrictionID", geom, "RestrictionTypeID", "OpenDate", "CloseDate",  "ParkingTariffArea", "TimePeriodID", "NoReturnID", "MaxStayID")
VALUES ('5_orig', '0103000020346C000004000000F7010000E2D0225B9FE113414BB81E855497244171666666D9E11341FCFFFFFF0A9724419EF3FD54C4E11341793F351E0B972441516666665BE11341393333B30B9724412BC8A1893EE11341560A9043149724413A2E4FAB18E113410B0EADBA4F97244193976E9211E11341A99DEFA75E972441D5CCCCCC02E11341A49999196D972441DE7C3F35EFE013413E3333F375972441CE256A86C1E013410E97B8968A9724417EED7C3FC1E013413BB29DAF8A972441DED24D620FE01341D5A59BC4C9972441AF9999190FE01341EC51B8DEC9972441295A643B5CDF134147B29DAF109824414E8D97EEDDDE13413ADD24C6609824413860E550A1DE134195976ED294982441F8285C8F7ADE1341A8C2F5A8A49824413A3333332DDE1341CACCCCCCA9982441716666667DDD1341090000008B9824418A6ABC74A0DD1341E5A59B4420982441A49999997FDD13417666666616982441706666662FDD1341D6CCCCCC0B982441DBCCCCCCB5DC1341263333B3AA972441A299999985DC1341BA9999998E972441B1F5285C81DC134196C0CAA18C97244182E9ED2668DC134130E50BED8097244131DF4F0D4ADC1341F6FFFFFF73972441A79999991CDC1341DACCCC4C649724417DBE9F1AE1DB1341C8F75363579724412A068115E1DB134101D34D6257972441C7CCCCCCCDDB1341443333335397244195999999B1DB1341566666664F972441F7FFFFFF7CDB1341666666A64A972441F0FFFFFF4EDB1341A4999999489724410B0000002CDB13410300008048972441AD999999A9DA1341D6CCCC4C55972441D04B37894FDA13411CD9CEB74E972441430C022B30D913412BDBF97E269724415EB81E852DD81341463333B30497244153E17A1429D81341F980950304972441C7CAA1C551D713415D8FC2B5E2962441E47A142EA4D61341658FC2F5C4962441A6703D0A79D61341C547E1FABD9624411E5C8FC243D6134119AE47E1AF962441C84B378938D613418114AE07AC962441A445B6F32AD613410752B85EA79624419E703D0A17D61341B2703D8AA0962441F4285C8FE2D51341390AD7238A9624411DAE47E1D4D513410B295C0F76962441F5FFFFFFDDD513410D0000006796244144B4C876A3D513410BD9CEF739962441C3A3703DA3D51341455C8F422E9624418414AE4780D51341AA47E17A2A962441F751B81E79D51341758FC2F5359624417E438B6C3FD5134192438BAC489624416A666666F0D41341C21E856B619624417814AE47C6D41341DEA3703D6A96244137894160BAD41341BB47E1FA6B962441A7703D8AB8D41341703D0A576C96244160E7FBA9B3D41341D7A145F66C962441ED51B81E95D41341E97A146E71962441AF703D0A7ED4134109295CCF739624414FB4C8F67DD41341BC7268D173962441FEAD47E166D413412C333333769624416DE5D0A248D41341CB490CC2779624418BC2F5A83DD413412385EB9178962441E651B81E38D41341C9F5289C78962441FD285C8F30D41341FBFFFFFF78962441398941E022D41341779318C47896244117AE47E10AD4134128D7A3F078962441AE999919FBD31341C6F3FD1478962441EE51B81EEED31341BCF528DC7796244162666666CDD31341B699999975962441B29999999CD31341CACCCCCC619624412633333364D313410000008049962441F5FFFF7F7CD2134109000000E0952441C4A145B6E2D11341DBCCCC4C99952441500AD723D8D11341570C026B94952441FEFFFFFF9AD11341DDCCCCCC79952441A199999980D11341D2CCCCCC709524412D3333B30BD11341CACCCC8C749524418CED7C3F10D1134177BA498C3B9524419E47E1FA29D1134180BE9F9AE3942441F32A87162FD11341470AD723D29424416A6666E630D1134188E7FB69CF9424410300000032D1134147333333CC942441E1CCCCCC4CD1134174666666A5942441623789C144D113418014AE0793942441F2FFFFFF43D11341CDCCCC4C919424411E33333332D11341180000008B9424415B666666F4D01341A19999997E942441A16E1203E4D0134162643B9F7A9424415F6666E6DED01341CFCCCC8C79942441FBFFFF7FABD013416E6666E66C942441D7CEF753A8D01341DC2406016C9424415E8D97EE89D01341BA1E856B63942441909999996ED01341373333B35B94244172E5D02269D013416A0E2DF259942441F3285C0F68D013411BAC1C9A5994244131B6F3FD55D01341280456CE539424411731082C3DD01341415EBAC94A9424413DDF4F8D39D0134100FED47849942441BB20B0722DD0134188BC74134594244160B81E052CD013413904568E44942441C022DBF91DD013410A7F6A3C3E942441A999999912D01341AA9999993994244151E5D0A20AD01341F426318835942441D2CCCC4CECCF13416939B40826942441733BDF4FD7CF1341BDF1D28D1B94244172666666D2CF1341B39999191994244122D7A3F0CBCF13412683C00A15942441CF1E85EBCBCF1341FD26310815942441D7FBA971B9CF134101560E6D09942441478B6CE7ABCF13415AB81E85009424414A18DA2E9BCF13412C363C86F5932441F67C3F3591CF1341D120B072EE932441623D0A578CCF13411FDBF9FEEA932441040000808BCF13416F666666EA9324418191ED7C87CF1341DDA3707DE6932441A0976E1286CF1341A21A2F1DE5932441D4CCCCCC83CF1341596666E6E2932441FFFFFF7F7CCF134102000080D79324415E1058397CCF1341092B8796D693244191E926317CCF13413F355E7AD6932441425C8FC27BCF1341E8285C0FD5932441911A2FDD79CF1341D9CCCCCCCE932441F3FFFFFF78CF1341393333F3CB932441E626310879CF1341A8ED7CBFCB932441C9CCCCCC7ACF1341D0CCCC4CC0932441E4E4858D9BCF13411A65DA4CA0932441C722DBF99FCF1341AE9DEFE79B932441CA1E85EBA2CF13419A6CE7FB98932441312FDDA4A6CF13417339B44895932441B77493184DCF13411C04560E7D932441F851B89E13CF1341C81E856B52932441CD1E856B10CF13413B85EBD13A9324410AAE47E109CF1341388716990A9324411EAE47E101CF134157621098CF922441360AD7A330CF1341A2703D8A9F92244142DD24863DCF134176BA490C9B922441453789C178CF13417966666686922441CC490C0279CF13413F0AD76383922441B21E85EB57CF134111AE47E1699224413F8D97EE4ACF1341943F35DE5F9224417E14AEC74ACF1341A1ED7CBF5F92244191C420B01BCF13418FC2F5E83A922441D6F753631BCF13410A560EAD3A922441528B6C6718CF13414B5EBAC93A92244165BC749313CF134189EB51F83A922441646666E6EECE1341B09999593C9224416E3BDFCFC8CE134106D34DE239922441AD9DEF27C6CE1341D974935839922441A4703D0AA7CE1341C747E1FA329224419D6E1203A7CE1341641058F9329224412E333333A4CE134157666666329224418CEB51B8A2CE1341E122DBF931922441A9703D0AA1CE1341C2C8767E31922441726666E689CE1341989999D92A9224412B3333336BCE1341706666661F922441B5CAA14568CE1341748FC2F51D92244164E7FB2958CE13417339B408169224416E6666E64BCE13410F0000001092244178E926B146CE1341A79999190C922441F5D478693ACE13415B6666E602922441E2CEF7533ACE13419B1804D602922441D976BE9F2ACE134100D34DE2F691244195438B6C20CE1341EB78E926ED91244191703D8A17CE13416D6891ADE49124413733333316CE13415D666666E39124414F60E5D00ECE134145355E3AD991244123DBF9FE07CE134132B29D2FC8912441298716D907CE1341DD4D62D0C791244100FED4F803CE1341C720B0B2AF912441263333B303CE134107000000AE9124416C1283C003CE1341590C02ABAD9124410154E32504CE1341B41C5A24AB9124417616D94E04CE1341A59BC420AA9124419D6CE77B04CE1341F6809503A9912441BFCCCCCC04CE134114000000A79124413908AC1C06CE1341563789C1A3912441553BDF4F0BCE134167E7FBE996912441566666660BCE1341353333B396912441D4A145360CCE1341733D0A9795912441B747E1FA0DCE134199438B2C93912441A999999913CE1341F9FFFF7F8B9124411EDD240614CE13419C6E12038B912441368716D91ACE13414189412083912441DECCCCCC1FCE1341726666667D9124417614AE47E9CD1341E0A59B4453912441FAFFFFFFC1CD1341D2CCCC4C34912441834160659ACD1341D9A59BC415912441E0285C8F76CD1341E1CEF7D3F9902441A7C8763E74CD134144DD2406F890244162E3A51B71CD1341EDCEF793F5902441B5F3FD543ECD13416B39B488FD90244152BA498C06CD134147B29D2FFF9024417E1283C001CD1341DFCEF753FF9024418014AE47FDCC1341D620B0F2FE902441E5CEF7D3CCCC134113AAF1D2FA9024412EDBF9FEBDCC13418F3F35DEF890244125333333BBCC134100000080F8902441438941609DCC134168128300F09024413F0E2D3286CC13410A54E365E9902441D0CCCCCC85CC1341E0CCCC4CE990244196C64BB785CC13413A5C8F42E990244143355EBA7ECC13410C83C00AE690244193C64BB77BCC1341578B6CA7E4902441C69F1AAF7BCC1341410AD7A3E4902441C478E92673CC13415B8FC2B5E09024416C6666666CCC1341A7999999DD902441292FDDA46ACC13417B6ABC74DC9024419D1A2F5D40CC134118D578E9C090244187EB51B870CB1341CD749398FF902441433333334ACB1341D4CCCCCCE590244112D9CE7749CB13413B8B6CE7E59024413908AC1C46CB13415AE5D062E69024413C5EBAC994CA13418816D9CEFF9024414E8B6C6764CA134135DBF97E03912441097F6ABC29CA134197C64BF7079124414F8D97EEFCC913411AAE47610B9124418CC0CA21BFC913417B643B5F03912441F851B89EA8C9134121D7A3F0F9902441CC7962CF80C913414AB95642E990244154B81E057AC9134187E7FB69E690244163BE9F1A6BC9134108AAF192DF902441944160E565C91341BF9F1A2FDD902441A59999995FC91341EFA7C64BDA902441CB9F1AAF52C91341C7F3FD94D39024417FC0CAA129C91341B6C8763EBE90244129333333E1C81341B099999998902441F0CEF753CDC8134146B81E0592902441A59999999EC81341E8CCCC8C829024413D3333B351C81341DACCCCCC679024410E31082C28C81341C77268D150902441A2C8763ECBC71341222FDDA42F90244143DF4F0D86C713414333333318902441AFC64BB76AC71341660E2D7213902441833D0A5738C713410800000012902441C6490C8215C713410F00000011902441F5FFFFFFDAC613413C3333B30E902441949999991FC613416366666612902441A26E12831DC6134173E5D062129024418E1A2F5D16C61341192B875612902441DB4F8D9793C51341DBA145761190244194999999CCC41341746666E60A902441A9703D8ACAC413412785EBD10A902441F3D0225BC5C41341E651B89E0A902441C3A1453671C41341D776BE5F079024413033333350C41341B49999190690244130333333BEC3134116000000F68F24410F000000C4C31341BB999999E08F24410B0000003CC51341A5999999228F2441BD7493181DC51341B19999591E8F2441265C8FC2E2C41341B3EFA7C61B8F2441B8F3FD5442C41341C420B0B2148F2441AC999999F3C3134197999919D18E244165643B5FC4C3134137DF4F4DB58E2441EF285C8F64C31341BE9DEFE77C8E2441FEA7C64BD5C21341528B6CA7448E2441E3A59B4494C213417FE7FBE9318E2441B145B6F361C21341EDF97E6A238E2441102FDDA453C213417A95434B1F8E244123022B872BC213411283C08A158E2441E178E9A620C21341F153E3E5128E24413608AC1C1CC21341D67A142E128E2441586666E6DCC11341EAFBA931088E244122DBF97EA0C11341C678E9A6FE8D2441B7490C0288C11341CD22DBB9FA8D24414F6210587EC1134108560E2DF98D2441EC7C3F357AC11341AB6E1283F88D244144B6F3FD79C11341CB22DB79F88D244148E17A9479C11341E078E966F88D2441426210586BC11341C676BEDFF58D24417110583961C113411FB072E8F28D2441308B6CE752C113419CC42030EB8D2441D1F753E351C11341460AD7A3EA8D2441941A2F5D51C1134167E3A55BEA8D24416D39B44851C11341FED47869EA8D2441470E2DB2FDC01341ACC64B37238E2441D8CEF7D3F3C01341295839B4298E24418FC420B08BC01341548B6C276E8E2441AA7D118A8BC01341245B72406E8E244139355E3A67BF13417CC0CA612E8F24413233333367BF1341596666662E8F244195703D8A77BE1341DC4D6290538F2441C420B0F219C013410154E365F08F2441836E12831FC01341EE51B8DEEC8F2441125839B43EC013411CAC1C1AD98F2441651283C03FC0134198C42070D88F244139DD248665C0134108AE4721E78F2441BFCCCCCC88C013410F000000C88F2441BEC8763E8CC01341C8F75323C68F24417391EDFC95C01341FF51B8DEC08F244194999999E8C0134129333333948F2441DBCCCCCC2BC11341AA999919858F24417B16D94E72C11341A9976E127F8F2441C574939876C113411A5839B47E8F24412989416077C11341E3F753A37E8F2441BD1E85EBB5C11341192B87D68A8F244150355EBABBC1134116AE47A18C8F244111068115BDC1134175BA490C8D8F24419199999994C21341FEFFFF7FCF8F24415F0E2D32ABC21341FDD24DE2ED8F2441EEFFFFFFAEC2134106000000F38F24415BE5D022A2C21341162FDDE43390244191C0CA2198C2134105AC1C5A669024418718045690C21341B5C420B08D9024418E438BECC8C213410B2B87D6E49024413C60E5D030C31341B4F3FDD484912441626210D831C313415A0C026B869124419699999935C31341363333338C912441BC9DEF2747C313413C5C8FC28F912441CFF75363C3C4134189C0CAE1DC912441BFCCCCCCCFC413417A666666DF912441E47A14AEBCC41341EAA370BDF2912441E6D24DE279C413419916D94E369224415E643B5F28C41341593789C188922441C84D62100EC41341963F355EA3922441D31E85EBFAC31341966CE7BBB69224415151DBA4F4C313418BBFFBE2BD922441627BEFA2ECC31341E82B3B72BC922441A51A2F5DE5C31341E8F75323BB9224416AB1774DA9C31341E28A6049B19224413FE17A1465C3134196703DCAA39224419C05383760C3134172C0C2CFA29224417ED2122460C313418C4606E4A2922441AE99999937C31341E4CCCCCCCD922441C2CCCCCC09C313412F333333FA9224417EE926B1F2C21341D64F8D970F93244118D9CEF7F3C213411A2B87D6109324419699999935C31341DFCCCCCC50932441CFA59BC43DC3134115D578295A9324412685EB5165C3134122DBF97E879324419F703D0A4AC31341A0976E929D932441A7C64B3749C31341D6CAA185B19324416391EDFC6CC3134108022B87D79324414D0C022BDBC31341B0EFA746DB932441D6D022DB5BC41341D478E9A6DF9324415E93188478C41341F62631C8D4932441F8D24DE281C41341C947E13AD19324411BAC1C5A8EC413417C128380CC9324411985EBD19AC413412FDD24C6C7932441A1C420B0ABC41341A09BC460C1932441E9FDD4F8B2C41341272DB29DBE932441B220B0F2B6C413416A8D976EBA93244164666666BAC41341C9CCCCCCB693244152E17A9403C51341F051B81EB9932441E97C3FB500C51341823F351EBD932441202DB29DFBC41341AF45B633C4932441A1976E92D9C4134141E17A94F3932441F4D24D622EC5134180BE9F5AF693244189ED7C3FA3C513419B438B2CFA9324417914AEC7A3C5134178E92631FA9324410059796922C6134187535479FE9324414FDF4F8DDDC613418214AE07069424412908AC9C20C7134125D9CE770894244109AE47E156C7134186E926710A9424413ADF4F8D5DC713413685EB51E293244183976E125FC71341FBFBA931D9932441C6A145B65FC71341D9749358D5932441B3C4203098C71341866CE7BBD79324413CB6F37D97C71341EB7A14EEDA93244187C0CAA18CC71341BA9DEFE70C942441DA7A14AED6C71341C24B37091094244150B4C8F6E1C71341A46E128310942441959BC42063C8134185EB51F815942441DDCCCCCC80C813412B3333B31E942441E5D24DE2A6C813416D3BDF4F2E94244164E5D0A2C7C81341BB20B0B232942441A89DEFA7DEC813411985EB1137942441E178E926E9C81341C8F753E32994244171643BDFE9C81341335A64FB28942441523BDF4FF9C81341CBA145F6309424419314AEC74AC9134180BC74135B9424419999999951C91341A69999995E94244108D578692FCA1341FAFFFF3FD0942441C8A0DC8B2FCA1341B4D9A051D094244106000000ADCA1341A19999991095244119D9CE77B6CA134143B4C8362395244111000000D0CA13415766666655952441CB749318E4CA1341906E12C3689524413DDD24060CCB13413E355E3A8F95244131DF4F0DDACB13417BE7FBA9C3952441D14D629047CC13417639B488DF95244114B07268C1CC13417B95438BFE9524412D3333B3DECC1341FEFFFFFF059624417391ED7CE3CC134198EFA746079624410D83C04A0ACD13413608AC9C119624416FEB51B89CCD1341FD51B89E38962441B91E85EBA0CD13417491EDBC3996244163643BDFF3CD1341951804D64F962441D3F528DC59CE1341DC2406016B962441B7F5285CE5CE1341E9F97E2A909624413808AC9CEBCE1341B6F3FDD491962441F7FFFFFFF5CE1341B8999999949624410BD578E936CF1341E178E966B59624411FB072E836CF13417B6666A6B59624416B6666E636CF13414DB4C8F6B596244168643B5F36CF13416F8FC2B5D09624419AED7CBFD0CE13417F16D98E159724419A6CE77B8CCE1341AAF1D2CD4397244194C64B3741CE1341FFA7C6CB769724418F9999993BCE1341B49999997A972441D17A142E23CE13412185EB9197972441576666E67DCE1341453333B3AB972441320681157ECE1341A79BC420AC972441EDA7C64B7ECE13417A3F359EAC972441999999998DCE1341E5CCCC4CD09724419E9DEFA789CE1341DD78E9A6E19724416B66666680CE13415B6666660A9824410A00000086CE1341473333333898244191999999A3CE13415E6666665D982441AE999999CECE13416B6666E67A982441F853E325F0CE1341763F355E809824412933333356CF134103000000919824412E49A118B5CF1341E3B76A6F97982441676666668AD01341626666E6A5982441823F35DEC1D01341A045B6B3A99824418E6E1283BCD1134171E5D0E2BA982441498D97EEE4D113413CE17A94BD982441B4E7A317E5D11341BC9B3897BD98244139333333ABD21341E4CCCCCCCA98244107000000C3D213416AE7FB69CC982441A7999919C3D21341CD1E856BCC98244192456A6736D313418BE1723CD4982441245EBA4906D41341D7CEF753E2982441676666663FD4134139333333E6982441CF749318BAD4134124D9CEB7EE98244136333333BAD41341D722DBB9EE9824419B99999907D51341A5999919F49824411F3333333FD613410700008008992441C5A145B643D61341C57268D1089924410B8195C343D613418C976ED208992441373333338AD61341EACCCCCC0D992441D8CCCCCCE2D613414933333318992441213333331FD713411200000021992441743D0A575CD71341FA7C3FF52F99244155B81E857DD7134113AAF112389924417C6ABCF4B4D71341A899991947992441BD1E85EBEED713416AB81E055F9924413589416007D81341AA1A2F1D69992441B020B0F210D81341E34D62106D9924413E355EBA35D8134139B6F33D7C992441AD1C5A64B6D81341833D0A57B1992441EDF97E6AB6D81341AC999959B1992441DE51B89EB9D813412B8716D9B2992441E553E3A5B9D81341CBF528DCB29924418C6CE77BD2D81341CA22DB79BE99244149378941FBD813418595438BD19924419A9999991AD913413B333333E09924415037894158D913419F1804D6F3992441055839B458D91341ACC64BB7F3992441B31A2F5D8AD91341BA9F1A6FE6992441A06CE77BA5D91341EF7A142EDF992441A8F1D2CDA6D9134177BC74D3DE99244151E5D022C7D913416E68912DD69924413EB81E85DDD91341DACEF7D3D1992441FBFFFFFF1EDA1341A1999919C599244121AC1CDA24DA1341DE76BE9FC5992441576666E672DA13415A643B9FCC992441A77268117DDA13417939B488CD9924419845B6739DDA134104FED4B8D0992441D7CCCCCCC1DA1341E7CCCC4CD4992441E0CCCCCCF9DA1341A0999919DA992441663BDF4F5BDB1341D31E85ABCD992441ED4F8D179BDB1341A4703D8AC5992441D1490C821EDC1341495EBAC9B49924415D3789412BDC13413BB072E8AF99244161E5D0A265DC134108295C8F99992441C522DBF99EDC13413108AC9C8399244188EB51B8BBDC134148E3A59B78992441430C02ABC0DC13415AB4C8B676992441DC22DB79DADC13419814AE076E992441E9263188DADC1341455C8F026E99244116616A21FADC1341AC4CCBC95E9924416A01B6D619DD1341E5C70FE951992441DA4D62904DDD13412604564E479924415B7674388BDD134160D3758F32992441C220B072C2DD134150355EFA1F992441C11C5AE4DADD134128B29DEF1699244132B4C8F6EADD13413BB6F3FD109924418C6E1203EBDD13415E1058F910992441CEF97E6A06DE13418A1804D6069924419B976E9221DE1341A4703DCAFC9824414A0AD7237FDE1341786ABC74CE982441DB4F8D1782DE1341B3C876FECC98244182BC7413DEDE13418C14AE079F982441976E1283DEDE13416E3BDFCF9E9824419F976E1216DF134177BA490C839824419B438B6C4BDF1341E0F75363689824415A1AE58274DF134141BD8D1B5598244107000000ADDF1341BA9999993A982441783F355EB1DF13415AB4C8B638982441DFD24D62B1DF1341F77C3FB5389824412301C8FCEBDF1341A07F756C1F982441160681956EE01341F1CEF713E7972441B6F3FDD47DE01341FEFFFF7FE097244193EB5138B8E013418E16D94EC797244119022B87BAE013415C3BDF4FC69724412808AC1C19E11341E52406819D972441233333334EE11341A899999986972441613BDFCF9CE113418A3D0A1756972441E2D0225B9FE113414BB81E85549724410900000030B29DEF0AD01341806ABCF4F49524419D77F2E110D0134166FCADC2F6952441B711850422D0134138EDEAFBFE952441E0F97EEAE2CF13412031086C2796244140B4C876D9CF1341E0F97E2A24962441FD31646BC7CF134176F7A8BB229624415F033207B4CF13417E5ECFF71A9624414060E5D0F7CF1341105839B4ED95244130B29DEF0AD01341806ABCF4F495244107000000B0F1D2CD50CF1341A01A2F9D6F962441606666E634CF134150E3A5DB8196244110D7A37033CF134160BA49CC829624417091ED7C20CF1341A0C420707B962441B01C5AE421CF13416039B4887A962441D0A370BD3DCF134170BC745368962441B0F1D2CD50CF1341A01A2F9D6F96244105000000305C8F427DDD1341A0C64BF72299244110AC1C5ACFDD1341B0F3FD140A9924411083C0CADBDD1341E04F8D5714992441303333B389DD1341D022DB392D992441305C8F427DDD1341A0C64BF722992441',
22, '2018-10-15', '2020-11-09', 'C2', 97, 1, 5);

UPDATE toms."ParkingTariffAreas"
SET "CloseDate" = '2020-11-09'
WHERE "RestrictionID" = '5_orig';

UPDATE toms."ParkingTariffAreas"
SET "OpenDate" = '2020-11-09'
WHERE "GeometryID" = '5';

-- Add to "RestrictionsInProposals"
-- Open
INSERT INTO toms."RestrictionsInProposals"(
        "ProposalID", "RestrictionTableID", "ActionOnProposalAcceptance", "RestrictionID")
VALUES (205, 7, 1, '5');

-- Close
INSERT INTO toms."RestrictionsInProposals"(
        "ProposalID", "RestrictionTableID", "ActionOnProposalAcceptance", "RestrictionID")
 VALUES (205, 7, 2, '5_orig');

-- Now tidy the lower PTA
-- Open
UPDATE toms."ParkingTariffAreas"
SET "OpenDate" = '2020-11-09'
WHERE "GeometryID" = '109';

INSERT INTO toms."RestrictionsInProposals"(
        "ProposalID", "RestrictionTableID", "ActionOnProposalAcceptance", "RestrictionID")
VALUES (205, 7, 1, '109');

/***
UPDATE toms."RestrictionsInProposals"
SET "RestrictionID" = '109'
WHERE "ProposalID" = 205
AND "RestrictionTableID" = 7
AND "ActionOnProposalAcceptance" = 1
AND "RestrictionID" = '1711f3b8-7efb-4ede-9d09-b2f005af874f'  -- Will need to manually correct this value ...
***/

-- Close
UPDATE toms."ParkingTariffAreas"
SET "CloseDate" = '2020-11-09'
WHERE "GeometryID" = '43';

INSERT INTO toms."RestrictionsInProposals"(
        "ProposalID", "RestrictionTableID", "ActionOnProposalAcceptance", "RestrictionID")
VALUES (205, 7, 2, '43');  -- This is the original PTA

/***
Deal with mapgrid version numbers

Find tiles that intersect CPZ 5 but which were not included for Proposal - and add

***/

DO
$do$
DECLARE
    tiles_in_accepted_proposals_details RECORD;
    proposal_id INTEGER = 71;
BEGIN

    FOR tiles_in_accepted_proposals_details IN
        SELECT DISTINCT id, "CurrRevisionNr", "LastRevisionDate"
        FROM toms."MapGrid" m, toms."ControlledParkingZones" c
        WHERE ST_Intersects(m.geom, c.geom)
        AND c."CPZ" IN ('5')
        AND id NOT IN
        (
        SELECT DISTINCT "TileNr"
            FROM toms."TilesInAcceptedProposals"
        WHERE "ProposalID" IN (proposal_id)
        ORDER BY "TileNr" )
    LOOP

        IF tiles_in_accepted_proposals_details."LastRevisionDate" < '2020-11-09' THEN

            RAISE NOTICE 'New *****--- Adding map tile (%) to tilesInAcceptedProposals for proposal %', tiles_in_accepted_proposals_details.id, proposal_id;
            RAISE NOTICE 'New *****--- new RevisionNr %; date: %', tiles_in_accepted_proposals_details."CurrRevisionNr"+1, tiles_in_accepted_proposals_details."LastRevisionDate";
           -- We can add without complications
            INSERT INTO toms."TilesInAcceptedProposals"(
                "ProposalID", "TileNr", "RevisionNr")
            VALUES (proposal_id, tiles_in_accepted_proposals_details.id, tiles_in_accepted_proposals_details."CurrRevisionNr"+1);

            -- Update revision nr
            UPDATE toms."MapGrid"
	        SET "CurrRevisionNr"=tiles_in_accepted_proposals_details."CurrRevisionNr"+1,
	            "LastRevisionDate"= '2020-11-09'
	        WHERE id = tiles_in_accepted_proposals_details.id;

        ELSIF tiles_in_accepted_proposals_details."LastRevisionDate" = '2020-11-09' THEN

            RAISE NOTICE '*****--- Adding map tile (%) to tilesInAcceptedProposals for proposal %', tiles_in_accepted_proposals_details.id, proposal_id;
            RAISE NOTICE '*****--- curr RevisionNr %; date: %', tiles_in_accepted_proposals_details."CurrRevisionNr", tiles_in_accepted_proposals_details."LastRevisionDate";

            -- We can add without complications
            INSERT INTO toms."TilesInAcceptedProposals"(
                "ProposalID", "TileNr", "RevisionNr")
            VALUES (proposal_id, tiles_in_accepted_proposals_details.id, tiles_in_accepted_proposals_details."CurrRevisionNr");

        ELSE

            RAISE NOTICE '*****--- Manual intervention required for map tile (%) to add to tilesInAcceptedProposals for proposal %', tiles_in_accepted_proposals_details.id, proposal_id;

        END IF;

    END LOOP;

END;
$do$;

-- Now check to see if there are any follow on issues, i.e., situations where CPZ in in following Proposals
SELECT


